<script setup>
import { ref, reactive } from 'vue'

const animate = ref(false)

const doAnimate = () => {
  animate.value = true
}

</script>

<template>
  <figure class="frame" :class="{ '-live': animate }">
    <svg
      class="assistant"
      width="601"
      height="874"
      viewBox="0 0 601 874"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        class="body"
        d="M592.003 573.673V865.673H8.00342V573.673C8.00342 412.406 138.736 281.673 300.003 281.673C461.271 281.673 592.003 412.406 592.003 573.673Z"
        fill="#BE7D54"
        stroke="#211005"
        stroke-width="16"
      />
      <g class="ears">
        <g class="right-ear">
          <ellipse
            rx="79.5"
            ry="82"
            transform="matrix(-0.707107 -0.707107 -0.707107 0.707107 469.766 114.199)"
            fill="#BE7D54"
          />
          <path
            class="right-ear-shadow"
            d="M526.503 157.001C503.703 112.601 443.337 83.1677 416.003 74.0011L404.503 94.0011C454.903 103.601 496.17 154.668 510.503 179.001L526.503 157.001Z"
            fill="#996443"
          />
          <path
            d="M419.208 63.6411C390.143 92.7063 389.682 138.766 417.44 166.525C445.199 194.284 491.259 193.823 520.324 164.757C549.39 135.692 549.851 89.632 522.092 61.8734C494.333 34.1147 448.273 34.5759 419.208 63.6411Z"
            stroke="#211005"
            stroke-width="16"
          />
          <ellipse
            rx="48.5"
            ry="50"
            transform="matrix(-0.707107 -0.707107 -0.707107 0.707107 462.695 121.27)"
            fill="#EF999A"
          />
          <path
            class="right-ear-shadow"
            d="M505.86 129.001C487.213 109.83 462.897 94.9336 442.504 85.0328L432.004 103.439C456.236 115.395 477.046 135.173 491.882 153.001L505.86 129.001Z"
            fill="#E08687"
          />
          <path
            d="M432.643 91.2182C415.337 108.524 415.106 135.907 431.582 152.383C448.059 168.859 475.441 168.628 492.747 151.322C510.053 134.017 510.284 106.634 493.808 90.1576C477.331 73.6812 449.949 73.9124 432.643 91.2182Z"
            stroke="#211005"
            stroke-width="12"
          />
        </g>
        <g class="left-ear">
          <ellipse
            cx="130.232"
            cy="114.199"
            rx="79.5"
            ry="82"
            transform="rotate(-45 130.232 114.199)"
            fill="#BE7D54"
          />
          <path
            class="left-ear-shadow"
            d="M73.4951 157C96.2951 112.6 156.662 83.167 183.995 74.0004L195.495 94.0004C145.095 103.6 103.828 154.667 89.4951 179L73.4951 157Z"
            fill="#996443"
          />
          <path
            d="M180.79 63.6404C209.856 92.7056 210.317 138.766 182.558 166.524C154.799 194.283 108.739 193.822 79.6741 164.757C50.6089 135.692 50.1476 89.6313 77.9063 61.8727C105.665 34.114 151.725 34.5752 180.79 63.6404Z"
            stroke="#211005"
            stroke-width="16"
          />
          <ellipse
            cx="137.304"
            cy="121.27"
            rx="48.5"
            ry="50"
            transform="rotate(-45 137.304 121.27)"
            fill="#EF999A"
          />
          <path
            class="left-ear-shadow"
            d="M94.1385 129.001C112.785 109.829 137.101 94.9329 157.495 85.0321L167.995 103.438C143.762 115.394 122.952 135.173 108.117 153L94.1385 129.001Z"
            fill="#E08687"
          />
          <path
            d="M167.355 91.2176C184.661 108.523 184.892 135.906 168.416 152.382C151.94 168.859 124.557 168.627 107.251 151.322C89.9455 134.016 89.7143 106.633 106.191 90.1569C122.667 73.6806 150.05 73.9118 167.355 91.2176Z"
            stroke="#211005"
            stroke-width="12"
          />
        </g>
      </g>
      <path
        class="head-shadow"
        d="M65.0034 366.006C65.0034 264.754 147.085 182.673 248.337 182.673H350.67C451.922 182.673 534.003 264.754 534.003 366.006V366.006C534.003 471.86 448.191 557.673 342.337 557.673H256.67C150.816 557.673 65.0034 471.86 65.0034 366.006V366.006Z"
        fill="#996443"
      />
      <path
        class="head-fill"
        d="M45.0034 281.673C45.0034 160.17 143.501 61.6726 265.003 61.6726H335.003C456.506 61.6726 555.003 160.17 555.003 281.673V311.673C555.003 438.698 452.029 541.673 325.003 541.673H275.003C147.978 541.673 45.0034 438.698 45.0034 311.673V281.673Z"
        fill="#BE7D54"
      />
      <path
        class="head-stroke"
        d="M265.003 69.6726H335.003C452.088 69.6726 547.003 164.588 547.003 281.673V311.673C547.003 434.28 447.611 533.673 325.003 533.673H275.003C152.396 533.673 53.0034 434.28 53.0034 311.673V281.673C53.0034 164.588 147.919 69.6726 265.003 69.6726Z"
        stroke="#211005"
        stroke-width="16"
      />
      <g class="face">
        <g class="muzzle">
          <path
            class="muzzle-shadow"
            d="M218.003 286.002C218.003 250.655 246.657 222.002 282.003 222.002H326.003C361.35 222.002 390.003 250.655 390.003 286.002V366.002C390.003 413.498 351.5 452.002 304.003 452.002V452.002C256.507 452.002 218.003 413.498 218.003 366.002V286.002Z"
            fill="#996443"
          />
          <g class="muzzle-group" clip-path="url(#clip0_32_41)">
            <path
              class="muzzle-light"
              d="M214.003 275.673C214.003 240.326 242.657 211.673 278.003 211.673H322.003C357.35 211.673 386.003 240.326 386.003 275.673V355.673C386.003 403.169 347.5 441.673 300.003 441.673V441.673C252.507 441.673 214.003 403.169 214.003 355.673V275.673Z"
              fill="#FFCC80"
            />
            <path
              class="muzzle-mouth"
              d="M292.003 287.673C292.003 283.254 295.585 279.673 300.003 279.673V279.673C304.422 279.673 308.003 283.254 308.003 287.673V304.709C308.003 308.647 308.932 312.53 310.715 316.041L313.61 321.745C315.856 326.169 318.842 330.175 322.439 333.592L324.435 335.488C328.736 339.573 334.049 342.437 339.825 343.785L347.511 345.578C349.134 345.956 350.602 346.822 351.718 348.059L352.076 348.456C354.383 351.012 354.647 354.811 352.718 357.662V357.662C351.066 360.102 348.136 361.346 345.233 360.838L333.593 358.801C331.871 358.5 330.184 358.024 328.559 357.381L326.749 356.665C320.339 354.128 314.6 350.145 309.982 345.027L308.503 343.389L304.253 338.679V338.679C301.98 336.16 298.027 336.16 295.753 338.679V338.679L291.503 343.389L290.025 345.027C285.406 350.145 279.668 354.128 273.258 356.665L271.448 357.381C269.823 358.024 268.136 358.5 266.413 358.801L254.774 360.838C251.871 361.346 248.941 360.102 247.289 357.662V357.662C245.359 354.811 245.624 351.012 247.93 348.456L248.289 348.059C249.405 346.822 250.873 345.956 252.495 345.578L260.182 343.785C265.958 342.437 271.271 339.573 275.571 335.488L277.568 333.592C281.165 330.175 284.151 326.169 286.397 321.745L289.292 316.041C291.074 312.53 292.003 308.647 292.003 304.709V287.673Z"
              fill="#211005"
            />
            <path
              class="muzzle-nose"
              d="M273.203 217.673L326.803 217.673C342.553 217.673 356 220.662 365.329 226.9C374.298 232.897 380.003 242.232 380.003 256.673C380.003 260.607 379.511 263.088 378.772 264.419C378.458 264.983 377.741 265.696 375.094 266.336C373.802 266.648 372.378 266.869 370.652 267.132L370.537 267.149C368.94 267.393 367.051 267.68 365.24 268.122L340.063 274.263C335.383 275.404 330.822 276.987 326.441 278.989C309.626 286.677 290.311 286.738 273.447 279.159L272.767 278.853C268.511 276.94 264.092 275.414 259.562 274.293L234.913 268.192C233.088 267.74 231.181 267.443 229.564 267.19L229.433 267.17C227.684 266.897 226.238 266.667 224.927 266.343C222.242 265.681 221.521 264.95 221.207 264.367C220.479 263.013 220.003 260.539 220.003 256.673C220.003 242.232 225.708 232.897 234.678 226.9C244.007 220.662 257.453 217.673 273.203 217.673Z"
              fill="#3D2723"
              stroke="#211005"
              stroke-width="12"
            />
          </g>
          <path
            class="muzzle-stroke"
            d="M278.003 219.673H322.003C352.931 219.673 378.003 244.745 378.003 275.673V355.673C378.003 398.751 343.082 433.673 300.003 433.673C256.925 433.673 222.003 398.751 222.003 355.673V275.673C222.003 244.745 247.076 219.673 278.003 219.673Z"
            stroke="#211005"
            stroke-width="16"
          />
        </g>
        <g class="eyes">
          <g class="left-eye">
            <path
              class="left-eye-open"
              d="M214.003 216.673C214.003 228.823 204.154 238.673 192.003 238.673C179.853 238.673 170.003 228.823 170.003 216.673C170.003 204.522 179.853 194.673 192.003 194.673C204.154 194.673 214.003 204.522 214.003 216.673Z"
              fill="#211005"
            />
            <path
              class="left-eye-close"
              d="M214.003 216.673C214.003 222.195 204.154 226.673 192.003 226.673C179.853 226.673 170.003 222.195 170.003 216.673C170.003 211.15 179.853 206.673 192.003 206.673C204.154 206.673 214.003 211.15 214.003 216.673Z"
              fill="#211005"
            />
          </g>
          <g class="right-eye">
            <path
              class="right-eye-open"
              d="M428.003 216.673C428.003 228.823 418.154 238.673 406.003 238.673C393.853 238.673 384.003 228.823 384.003 216.673C384.003 204.522 393.853 194.673 406.003 194.673C418.154 194.673 428.003 204.522 428.003 216.673Z"
              fill="#211005"
            />
            <path
              class="right-eye-close"
              d="M428.003 216.673C428.003 222.195 418.154 226.673 406.003 226.673C393.853 226.673 384.003 222.195 384.003 216.673C384.003 211.15 393.853 206.673 406.003 206.673C418.154 206.673 428.003 211.15 428.003 216.673Z"
              fill="#211005"
            />
          </g>
        </g>
      </g>

      <defs>
        <clipPath id="clip0_32_41">
          <path
            d="M214.003 275.673C214.003 240.326 242.657 211.673 278.003 211.673H322.003C357.35 211.673 386.003 240.326 386.003 275.673V355.673C386.003 403.169 347.5 441.673 300.003 441.673V441.673C252.507 441.673 214.003 403.169 214.003 355.673V275.673Z"
            fill="white"
          />
        </clipPath>
      </defs>
    </svg>
  </figure>

  <button @click="doAnimate">Live Animate</button>
</template>

<style lang="scss">
@import "@/animations/animations.scss";

.frame {
  box-sizing: border-box;
  width: 400px;
  height: 400px;
  border: 16px solid var(--color-grey-light);
  border-radius: 50%;
  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.25);
  background: var(--color-grey-neutral);
  overflow: hidden;
}

.assistant {
  width: 100%;
  height: 120%;
  margin-top: 30px;
}
</style>